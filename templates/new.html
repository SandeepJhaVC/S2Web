{% extends 'admin.html' %}
{% block title %} Add Shipment {% endblock %}
{% block content %}
<div class="container mt-5">
  <form method="POST" action="{{ url_for('add_shipment') }}">
    <div class="row">
      <div class="col-lg-9">
        <div class="row mb-3">
          <!-- Shipper Information -->
          <div class="col-md-6">
            <div class="card p-4 mb-4 h-100 d-flex flex-column">
              <h3 class="mb-4">Shipper Information</h3>
              <div class="mb-3">
                <label for="shipName" class="form-label">Shipper Name</label>
                <input type="text" class="form-control" id="shipName" name="shipName" required>
              </div>
              <div class="mb-3">
                <label for="shipPhone" class="form-label">Phone Number</label>
                <input type="text" class="form-control" id="shipPhone" name="shipPhone" required>
              </div>
              <div class="mb-3">
                <label for="shipAddress" class="form-label">Address</label>
                <input type="text" class="form-control" id="shipAddress" name="shipAddress" required>
              </div>
              <div class="mb-3">
                <label for="shipEmail" class="form-label">Email</label>
                <input type="email" class="form-control" id="shipEmail" name="shipEmail">
              </div>
              <div class="mb-3">
                <label for="shipGST" class="form-label">GST NO</label>
                <input type="text" class="form-control" id="shipGST" name="shipGST">
              </div>
              <div class="mt-auto"></div> <!-- Pushes content to the bottom -->
            </div>
          </div>

          <!-- Receiver Information -->
          <div class="col-md-6">
            <div class="card p-4 mb-4 h-100 d-flex flex-column">
              <h3 class="mb-4">Receiver Information</h3>
              <div class="mb-3">
                <label for="recName" class="form-label">Receiver Name</label>
                <input type="text" class="form-control" id="recName" name="recName" required>
              </div>
              <div class="mb-3">
                <label for="recPhone" class="form-label">Phone Number</label>
                <input type="text" class="form-control" id="recPhone" name="recPhone" required>
              </div>
              <div class="mb-3">
                <label for="recAddress" class="form-label">Address</label>
                <input type="text" class="form-control" id="recAddress" name="recAddress" required>
              </div>
              <div class="mb-3">
                <label for="recEmail" class="form-label">Email</label>
                <input type="email" class="form-control" id="recEmail" name="recEmail">
              </div>
              <div class="mt-auto"></div> <!-- Pushes content to the bottom -->
            </div>
          </div>
        </div>

        <!-- Additional Shipment Details -->
        <div class="card p-4 mb-3">
          <!-- Remaining content unchanged -->
          <h3>Additional Shipment Details</h3>
          <div class="form-group">
            <label for="shipmentType">Type of Shipment</label>
            <select class="form-control" id="shipmentType" name="shipmentType" required>
                <option>-- Select One --</option>
                <!-- Add shipment type options here -->
            </select>
          </div>
          <div class="form-group">
            <label for="unitCount">Unit Count</label>
            <input type="number" class="form-control" id="unitCount" name="unitCount">
          </div>
          <div class="form-group">
            <label for="boxCount">Box Count</label>
            <input type="number" class="form-control" id="boxCount" name="boxCount">
          </div>
          <div class="form-group">
            <label for="poNumber">PO Number</label>
            <input type="text" class="form-control" id="poNumber" name="poNumber">
          </div>
          <div class="form-group">
            <label for="poExpiry">PO Expiry</label>
            <input type="date" class="form-control" id="poExpiry" name="poExpiry">
          </div>
          <div class="form-group">
            <label for="invoiceNumber">Invoice Number</label>
            <input type="text" class="form-control" id="invoiceNumber" name="invoiceNumber">
          </div>
          <div class="form-group">
            <label for="invoiceValue">Invoice Value</label>
            <input type="number" class="form-control" id="invoiceValue" name="invoiceValue">
          </div>
          <div class="form-group">
            <label for="amountCollected">Amount Collected</label>
            <input type="number" class="form-control" id="amountCollected" name="amountCollected">
          </div>
          <div class="form-group">
            <label for="cnNumber">CN Number</label>
            <input type="text" class="form-control" id="cnNumber" name="cnNumber">
          </div>
          <div class="form-group">
            <label for="aptNumber">Appointment Number</label>
            <input type="text" class="form-control" id="aptNumber" name="aptNumber">
          </div>
        </div>

        <!-- Packages -->
          <div class="card p-4 mb-3">
              <h3>Packages</h3>
              <div id="packages" class="row">
                  <!-- Package Inputs -->
                  <div class="form-group col-md-2">
                      <label for="qty">Qty</label>
                      <input type="number" class="form-control" id="qty" name="qty[]">
                  </div>
                  <div class="form-group col-md-2">
                      <label for="pieceType">Piece Type</label>
                      <input type="text" class="form-control" id="pieceType" name="pieceType[]">
                  </div>
                  <div class="form-group col-md-2">
                      <label for="description">Description</label>
                      <input type="text" class="form-control" id="description" name="description[]">
                  </div>
                  <div class="form-group col-md-2">
                      <label for="length">Length (cm)</label>
                      <input type="number" class="form-control" id="length" name="length[]">
                  </div>
                  <div class="form-group col-md-2">
                      <label for="width">Width (cm)</label>
                      <input type="number" class="form-control" id="width" name="width[]">
                  </div>
                  <div class="form-group col-md-2">
                      <label for="height">Height (cm)</label>
                      <input type="number" class="form-control" id="height" name="height[]">
                  </div>
                  <div class="form-group col-md-2">
                      <label for="weight">Weight (kg)</label>
                      <input type="number" class="form-control" id="weight" name="weight[]">
                  </div>
                  
              </div>
              <button type="button" class="m-3" onclick="addPackage()">Add Package</button>
          </div>

        <!-- Submit Button -->
        <div class="text-center mb-4">
          <!-- Remaining content unchanged -->
          <button type="submit" class="btn btn-primary">Add Shipment</button>
        </div>
      </div>

      <!-- Container Details -->
      <div class="col-lg-3">
        <div class="card p-4">
          <!-- Remaining content unchanged -->
          <h3>Container Details</h3>
          <div class="form-group">
              <label for="container">Shipment Container</label>
              <select class="form-control" id="container" name="container">
                  <option>-- Select Container --</option>
                  <!-- Add container options here -->
              </select>
          </div>
        </div>
      </div>
    </div>
  </form>
</div>

<script>
  function deletePackage(button) {
    // Get the parent row of the delete button
    var packageRow = button.parentElement.parentElement;
    // Remove the parent row
    packageRow.remove();
  }
  function addPackage() {
      var packageDiv = document.getElementById('packages');
      var newPackage = document.createElement('div');
      newPackage.className = 'row';

      newPackage.innerHTML = `
          <div class="form-group col-md-2">
              <label for="qty">Qty</label>
              <input type="number" class="form-control" id="qty" name="qty[]">
          </div>
          <div class="form-group col-md-2">
              <label for="pieceType">Piece Type</label>
              <input type="text" class="form-control" id="pieceType" name="pieceType[]">
          </div>
          <div class="form-group col-md-2">
              <label for="description">Description</label>
              <input type="text" class="form-control" id="description" name="description[]">
          </div>
          <div class="form-group col-md-2">
              <label for="length">Length (cm)</label>
              <input type="number" class="form-control" id="length" name="length[]">
          </div>
          <div class="form-group col-md-2">
              <label for="width">Width (cm)</label>
              <input type="number" class="form-control" id="width" name="width[]">
          </div>
          <div class="form-group col-md-2">
              <label for="height">Height (cm)</label>
              <input type="number" class="form-control" id="height" name="height[]">
          </div>
          <div class="form-group col-md-2">
              <label for="weight">Weight (kg)</label>
              <input type="number" class="form-control" id="weight" name="weight[]">
          </div>
          <div class="form-group col-md-2 align-self-end">
              <button type="button" class="btn btn-danger mt-auto" onclick="deletePackage(this)">Delete</button>
          </div>
      `;
      packageDiv.appendChild(newPackage);
  }
</script>
{% endblock %}
