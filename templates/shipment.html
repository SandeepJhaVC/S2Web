{% extends 'admin.html' %}
{% block title %}Shipment Details{% endblock %}
{% block content %}
<div class="container-fluid mt-5 pt-3">
    <div class="text-center mb-4">
        <img src="{{ url_for('static', filename='s2logo.png') }}" alt="Company Logo" class="img-fluid" style="max-height: 150px;">
        <p><b>Shipment ID:</b> {{ shipment.shipment_id }}</p>
    </div>

    <table class="table">
        <thead>
            <tr>
                <th class="text-center">SHIPPER ADDRESS: {{ shipment.shipper_address }}</h3>
                <th class="text-center">CONSIGNEE ADDRESS: {{ shipment.receiver_address }}</td>
            </tr>
        </thead>
        <thead>
            <tr>
                <td class="text-center">Shipper Name: {{ shipment.shipper_name }}</td>
                <td class="text-center">Receiver Name: {{ shipment.receiver_name }}</td>
            </tr>
        </thead>
    </table>

    <h3 class="text-center bg-danger text-white py-2">SHIPMENT STATUS: {{ shipment.status }}</h3>

    <h4>ADDITIONAL SHIPMENT DETAILS</h4>
    <p>POD as PDF: <a href="{{ shipment.pod_url }}" target="_blank"><img src="{{ shipment.pod_url }}" alt="POD" class="img-fluid" style="max-height: 100px;"></a></p>

    <h4>PACKAGES</h4>
    <div class="table-responsive">
        <table class="table table-bordered">
            <thead class="bg-danger text-white">
                <tr>
                    <th>Qty</th>
                    <th>Piece Type</th>
                    <th>Description</th>
                    <th>Length (cm)</th>
                    <th>Width (cm)</th>
                    <th>Height (cm)</th>
                    <th>Weight (kg)</th>
                </tr>
            </thead>
            <tbody>
                {% for package in shipment.packages %}
                <tr>
                    <td>{{ package.qty }}</td>
                    <td>{{ package.piece_type }}</td>
                    <td>{{ package.description }}</td>
                    <td>{{ package.length }}</td>
                    <td>{{ package.width }}</td>
                    <td>{{ package.height }}</td>
                    <td>{{ package.weight }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>

    <h4>SHIPMENT HISTORY</h4>
    <div class="table-responsive">
        <table class="table table-bordered">
            <thead class="bg-danger text-white">
                <tr>
                    <th>Date</th>
                    <th>Time</th>
                    <th>Location</th>
                    <th>Status</th>
                    <th>Updated By</th>
                    <th>Remarks</th>
                </tr>
            </thead>
            <tbody>
                {% for history in shipment.history %}
                <tr>
                    <td>{{ history.date }}</td>
                    <td>{{ history.time }}</td>
                    <td>{{ history.location }}</td>
                    <td>{{ history.status }}</td>
                    <td>{{ history.updated_by }}</td>
                    <td>{{ history.remarks }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>
{% endblock %}
