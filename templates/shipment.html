{% extends 'admin.html' %}
{% block title %}Shipment Details{% endblock %}
{% block content %}
<div class="container-fluid mt-5 pt-3">
    <div class="text-center mb-4">
        <img src="{{ url_for('static', filename='s2logo.png') }}" alt="Company Logo" class="img-fluid" style="max-height: 150px;">
        <p><b>Tracking ID:</b> {{ shipment.shipment_id }}</p>
    </div>

    <table class="table">
        <thead>
            <tr>
                <th class="text-center">CONSIGNER</h3>
                <th class="text-center">CONSIGNEE</td>
            </tr>
        </thead>
        <thead>
            <tr>
                <td class="text-center">{{ shipment.shipper_name }}</td>
                <td class="text-center">{{ shipment.receiver_name }}</td>
            </tr>
        </thead>
    </table>

    <h3 class="text-center bg-danger text-white py-2">SHIPMENT STATUS: {{ shipment.status }}</h3>

    <h4>ADDITIONAL SHIPMENT DETAILS</h4>
    <table class="table">
        <thead>
            <tr>
                <th class="text-center">CONSIGNER</h3>
                <th class="text-center">CONSIGNEE</td>
            </tr>
        </thead>
        <thead>
            <tr>
                <td class="text-center">{{ shipment.shipper_name }}</td>
                <td class="text-center">{{ shipment.receiver_name }}</td>
            </tr>
        </thead>
    </table>

    <h3 class="text-center bg-danger text-white py-2">SHIPMENT STATUS: {{ shipment.status }}</h3>
    <table class="table table-info table-striped-columns">
        <tbody>
            <tr>
                <th>
                    PO ID
                </th>
                <th>
                    {{ shipment.POID }}
                </th>
            </tr>
            <tr>
                <th>
                    Pickup Location
                </th>
                <th>
                    {{ shipment.pickup_location }}
                </th>
            </tr>
            <tr>
                <th>
                    Pickup Date
                </th>
                <th>
                    {{ shipment.pickup_date }}
                </th>
            </tr>
            <tr>
                <th>
                    Pickup Remark
                </th>
                <th>
                    {{ shipment.pick_rem }}
                </th>
            </tr>
            <tr>
                <th>
                    CNN
                </th>
                <th>
                    {{ shipment.cn_number }}
                </th>
            </tr>
            <tr>
                <th>
                    Delivery Location
                </th>
                <th>
                    {{ shipment.del_locate }}
                </th>
            </tr>
            <tr>
                <th>
                    Delivery Date
                </th>
                <th>
                    {{ shipment.del_date }}
                </th>
            </tr>
            <tr>
                <th>
                    POD as PDF
                </th>
                <th>
                    <a href="{{ shipment.pod_url }}" target="_blank"><img src="{{ shipment.pod_url }}" alt="POD" class="img-fluid" style="max-height: 100px;"></a>
            </tr>
            <tr>
                <th>
                    Delivery Vehicle
                </th>
                <th>
                    {{ shipment.container }}
                </th>
            </tr>
            <tr>
                <th>
                    Delivery Remark
                </th>
                <th>
                    {{shipment.del_rem}}
                </th>
            </tr>
        </tbody>
    </table>

    <h4>PACKAGES</h4>
    <div class="table-responsive">
        <table class="table table-bordered">
            <thead class="bg-danger text-white">
                <tr>
                    <th>Qty</th>
                    <th>Piece Type</th>
                    <th>Description</th>
                    <th>Actual Weight (kg)</th>
                    <th>Volumetric Weight (kg)</th>
                    <th>Charged Weight (kg)</th>
                </tr>
            </thead>
            <tbody>
                {% for package in shipment.packages %}
                <tr>
                    <td>{{ package.qty }}</td>
                    <td>{{ package.piece_type }}</td>
                    <td>{{ package.description }}</td>
                    <td>{{ package.act_weight }}</td>
                    <td>{{ package.vol_weight }}</td>
                    <td>{{ package.ch_weight }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>

    <h4>SHIPMENT HISTORY</h4>
    <div class="table-responsive">
        <table class="table table-bordered">
            <thead class="bg-danger text-white">
                <tr>
                    <th>Date</th>
                    <th>Time</th>
                    <th>Location</th>
                    <th>Status</th>
                    <th>Updated By</th>
                    <th>Remarks</th>
                </tr>
            </thead>
            <tbody>
                {% for history in shipment.history %}
                <tr>
                    <td>{{ history.date }}</td>
                    <td>{{ history.time }}</td>
                    <td>{{ history.location }}</td>
                    <td>{{ history.status }}</td>
                    <td>{{ history.updated_by }}</td>
                    <td>{{ history.remarks }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>
{% endblock %}
